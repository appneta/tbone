{"version":3,"file":"dist/tbone.min.js","sources":["dist/tbone.js"],"names":["identity","x","noop","undefined","isFunction","isString","isRealNumber","isNaN","isObject","isDate","getTimezoneOffset","setUTCFullYear","isQueryable","isBoolean","isArray","objectToString","call","error","TBONE_DEBUG","console","apply","arguments","watchLog","name","level","VERBOSE","logLevels","type","context","event","showRenderTrees","_showRenderTrees","logRender","obj","log","_","times","renderDepth","join","Name","i","logCallbacks","length","this","logconsole","msg","data","moredata","isModel","isView","isScope","threshold","Math","max","base","reduce","memo","map","tboneid","templated","template","includeColon","frame","message","logfn","ERROR","WARN","onLog","cb","push","denullText","v","getListeners","self","listeners","each","values","ll","curr","next","flatten","ev","callbacks","k","stack","pop","contextId","uniq","hasViewListener","todo","usedModels","listener","indexOf","now","Date","getTime","timer","started","cumulative","me","stop","start","done","timers","autorun","fn","priority","onExecuteCb","onExecuteContext","detached","currentExecutingScope","scope","Scope","subScopes","execute","runOnlyOnce","alreadyRun","extend","uniqueId","nextId","dirty","schedulerQueue","sort","a","b","isReady","inflight","drainQueueTimer","updateIsReady","isReadyTimer","setTimeout","tbone","queueExec","scopesQueued","frozen","defer","drainQueue","queryScrollTop","value","origScrollTop","$window","scrollTop","scrollTopChangedProgrammatically","queueDrainStartTime","remaining","duration","viewRenders","drain","clearTimeout","freeze","recursiveDiff","evs","prev","exhaustive","depth","fireAll","MAX_RECURSIVE_DIFF_DEPTH","limit","changed","QUERY_SELF","searched","objs","contexts","trigger","serializeForComparison","model","opts","attributes","JSON","stringify","key","localized","e","listDiffs","accum","diffs","concat","query","flag","prop","dontGetData","DONT_GET_DATA","iterateOverModels","ITERATE_OVER_MODELS","isPush","QUERY_PUSH","isUnshift","QUERY_UNSHIFT","isRemoveFirst","QUERY_REMOVE_FIRST","isRemoveLast","QUERY_REMOVE_LAST","isToggle","QUERY_TOGGLE","isIncrement","QUERY_INCREMENT","isListOp","isUnset","QUERY_UNSET","hasValue","isSet","replace","argParts","split","args","id","arg","doSubQuery","setprop","last_data","_data","name_parts","parentCallbackContexts","events","primitive","partial","rgxNumber","exec","shift","recentLookups","props","prevJson","json","before","parse","after","nameProp","unshift","isEmpty","isCollection","d","keys","queryText","splitName","rgxEventSplitter","sync","method","options","methodMap","defaults","emulateHTTP","emulateJSON","params","dataType","url","result","urlError","contentType","attrs","toJSON","_method","beforeSend","xhr","setRequestHeader","processData","window","ActiveXObject","external","msActiveXFilteringEnabled","ajax","regexp","str","flags","RegExp","dontPatch","namespace","neverLookup","withLookupListeners","closureVariables","rgxLookupableRef","all","precedingDot","expr","firstArg","test","slice","addTemplate","string","templates","initTemplate","updateInClosure","inClosure","varstack","parsed","rgxLookup","__","textOp","contents","cs_parsed","instrumented","cs","isDataRef","newContents","rgxUnquoted","unquoted","quoted","rgxScope","openScope","closeScope","c","rgxArgs","variable","renderTemplate","view","$","html","getHashId","instaModel","hashId","hashArray","HEXCHARS","charAt","floor","random","hashedObjectCache","setDefaultView","defaultView","render","$els","parent","subViews","subViewMap","subView","origOuterHTML","el","$this","outerHTML","replaceWith","attr","rgxTBoneAttribute","inlineTemplateId","origTemplateHtml","templateId","viewId","root","myView","views","addClass","parentView","rootObj","domParentView","rootStr","make","createView","baseReady","exports","require","models","collections","aliasCheck","BASE_PRIORITY_MODEL_SYNC","BASE_PRIORITY_VIEW","BASE_PRIORITY_MODEL_ASYNC","highest","bound","beforeViews","afterViews","async","lowest","PRIORITY_INIT_DELTA","Object","prototype","toString","INFO","myTimer","destroyed","unbindAll","destroySubScopes","oldLookups","lookups","parentScope","ex","propMap","on","executionTimeMs","objId","off","destroy","baseModel","instance","arg0","arg1","arg2","boundModel","state","_removeCallbacks","subclass","initialize","callback","parts","wake","queryModel","readSilent","tmp","rval","idAttribute","queryId","toggle","removeFirst","removeLast","unset","increment","clear","text","lookup","lookupText","set","get","recurse","o","update","scopePriority","onScopeExecute","woken","sleeping","reset","bindable","_update","sleepEnabled","asyncModel","reqGeneration","updateGeneration","abortCallback","abortPrevious","nextTempId","baseCollection","add","child","lastId","removed","remove","modelOrId","create","patch","delete","read","ajaxModel","dataCallback","complete","myXhr","fetchedUrl","success","resp","onAbort","oldurl","abort","postFetch","onComplete","clearOnFetch","localStorageModel","localStorage","locationModel","updateHash","location","hash","bind","localStorageCollection","stored","modelData","word","baseView","selector","find","destroyRoot","$el","activeElementSelector","activeElementIndex","selectionStart","selectionEnd","activeElement","document","contains","parents","inputType","getAttribute","$old","append","children","newHtml","oldSubViews","obsoleteSubViews","difference","newActiveElement","focus","ready","postReady","postRender","destroyDOM","parentRoot","orig_tbone","orig_T","dispatchEvent","CustomEvent","Backbone","bbquery","firstprop","firstdata","bbbaseModel","Model","isAsync","isVisible","updateAsync","updateSync","xhrInFlight","lastFetchedUrl","fetch","newurl","Collection","proto","isBackbone","originalOn","bbModel","bbCollection","_validate"],"mappings":"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"}